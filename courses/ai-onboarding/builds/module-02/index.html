<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 2: The Ghost in the Machine | SOPs Nobody Reads</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Source+Serif+4:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@400;500;600&display=swap');

:root {
  --bg-dark: #1a1812;
  --bg-card: #2a2620;
  --bg-warm: #332e26;
  --cream: #f0e8d8;
  --cream-dim: #c8bfad;
  --olive: #5c6b4f;
  --olive-light: #7a8c6a;
  --rust: #b8704a;
  --rust-light: #d4956a;
  --gold: #c9a84c;
  --gold-dim: #8a7535;
  --red-dim: #8b3a3a;
  --green-dim: #4a6b4a;
  --charcoal: #3a3632;
  --font-display: 'Playfair Display', Georgia, serif;
  --font-body: 'Source Serif 4', Georgia, serif;
  --font-ui: 'DM Sans', 'Segoe UI', sans-serif;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  overflow: hidden;
  background: var(--bg-dark);
  color: var(--cream);
}

.grain {
  position: fixed;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  animation: grainShift 0.5s steps(4) infinite;
}
@keyframes grainShift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-2%, -1%); }
  50% { transform: translate(1%, 2%); }
  75% { transform: translate(-1%, -2%); }
  100% { transform: translate(2%, 1%); }
}

.vignette {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9998;
  background: radial-gradient(ellipse at center, transparent 50%, rgba(10,8,4,0.6) 100%);
}

.player {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  font-family: var(--font-body);
}

.slide-container {
  flex: 1;
  position: relative;
  overflow: hidden;
}

.slide {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 4vh 8vw;
  opacity: 0;
  transition: opacity 0.6s ease;
  pointer-events: none;
  background-color: var(--bg-dark);
}
.slide.active {
  opacity: 1;
  pointer-events: auto;
}

.slide.has-image {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.slide.has-image::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  background: radial-gradient(ellipse at center,
    rgba(26,24,18,0.6) 0%,
    rgba(26,24,18,0.82) 100%);
}

.slide-scene.has-image::before {
  background: radial-gradient(ellipse at center,
    rgba(26,24,18,0.68) 0%,
    rgba(26,24,18,0.88) 100%);
}

.slide-concept.has-image::before {
  background: radial-gradient(ellipse at center,
    rgba(26,24,18,0.65) 0%,
    rgba(26,24,18,0.85) 100%);
}

.slide-options.has-image::before {
  background: radial-gradient(ellipse at center,
    rgba(26,24,18,0.58) 0%,
    rgba(26,24,18,0.82) 100%);
}

.slide-list.has-image::before {
  background: radial-gradient(ellipse at center,
    rgba(26,24,18,0.65) 0%,
    rgba(26,24,18,0.85) 100%);
}

.slide.has-image > * {
  position: relative;
  z-index: 2;
}

.slide-title {
  text-align: center;
  background: linear-gradient(170deg, var(--bg-warm) 0%, var(--bg-dark) 100%);
}
.slide-title .module-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gold);
  margin-bottom: 2vh;
  font-weight: 600;
}
.slide-title h1 {
  font-family: var(--font-display);
  font-size: clamp(2rem, 5vw, 4.5rem);
  font-weight: 900;
  line-height: 1.1;
  color: var(--cream);
  margin-bottom: 2vh;
}
.slide-title .subtitle {
  font-family: var(--font-body);
  font-size: clamp(0.9rem, 1.8vw, 1.3rem);
  color: var(--cream-dim);
  font-style: italic;
  font-weight: 300;
}
.slide-title .brand {
  position: absolute;
  bottom: 4vh;
  font-family: var(--font-ui);
  font-size: 0.7rem;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: var(--gold-dim);
}

.slide-scene {
  text-align: center;
  background: linear-gradient(170deg, #1e1c17 0%, var(--bg-dark) 100%);
}
.slide-scene .scene-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--rust);
  margin-bottom: 3vh;
  font-weight: 600;
}
.slide-scene .scene-text {
  font-family: var(--font-display);
  font-size: clamp(1.4rem, 3vw, 2.8rem);
  font-weight: 400;
  font-style: italic;
  line-height: 1.4;
  color: var(--cream);
  max-width: 42ch;
}
.slide-scene .scene-text em {
  color: var(--rust-light);
  font-style: normal;
}

.slide-keypoint {
  text-align: center;
  background: linear-gradient(170deg, var(--bg-warm) 0%, #1a1812 100%);
}
.slide-keypoint .kicker {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--olive-light);
  margin-bottom: 3vh;
  font-weight: 600;
}
.slide-keypoint h2 {
  font-family: var(--font-display);
  font-size: clamp(1.8rem, 4vw, 3.8rem);
  font-weight: 900;
  line-height: 1.15;
  color: var(--cream);
  max-width: 20ch;
  margin-bottom: 2.5vh;
}
.slide-keypoint .body {
  font-family: var(--font-body);
  font-size: clamp(0.95rem, 1.6vw, 1.2rem);
  line-height: 1.7;
  color: var(--cream-dim);
  max-width: 48ch;
  font-weight: 300;
}

.slide-options {
  text-align: center;
  background: linear-gradient(170deg, var(--bg-warm) 0%, var(--bg-dark) 100%);
}
.slide-options h2 {
  font-family: var(--font-display);
  font-size: clamp(1.4rem, 2.8vw, 2.4rem);
  font-weight: 700;
  color: var(--cream);
  margin-bottom: 4vh;
}
.options-grid {
  display: flex;
  gap: 2vw;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 900px;
}
.option-card {
  background: rgba(58,54,50,0.85);
  border: 1px solid rgba(240,232,216,0.08);
  border-radius: 4px;
  padding: 2.5vh 2vw;
  width: clamp(200px, 22vw, 260px);
  text-align: center;
  transition: border-color 0.3s, transform 0.3s;
  backdrop-filter: blur(4px);
}
.option-card .option-letter {
  font-family: var(--font-display);
  font-size: 1.8rem;
  font-weight: 900;
  color: var(--gold);
  margin-bottom: 1vh;
}
.option-card h3 {
  font-family: var(--font-display);
  font-size: clamp(1rem, 1.6vw, 1.3rem);
  font-weight: 700;
  color: var(--cream);
  margin-bottom: 1vh;
}
.option-card p {
  font-family: var(--font-body);
  font-size: clamp(0.75rem, 1.1vw, 0.9rem);
  color: var(--cream-dim);
  line-height: 1.5;
  font-weight: 300;
}

.slide-reveal {
  text-align: center;
  background: linear-gradient(170deg, #22201a 0%, var(--bg-dark) 100%);
}
.slide-reveal .reveal-kicker {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gold);
  margin-bottom: 2vh;
  font-weight: 600;
}
.slide-reveal h2 {
  font-family: var(--font-display);
  font-size: clamp(2rem, 4.5vw, 4rem);
  font-weight: 900;
  line-height: 1.1;
  color: var(--cream);
  margin-bottom: 2.5vh;
}
.slide-reveal .body {
  font-family: var(--font-body);
  font-size: clamp(0.95rem, 1.6vw, 1.2rem);
  line-height: 1.7;
  color: var(--cream-dim);
  max-width: 48ch;
  font-weight: 300;
  font-style: italic;
}

.slide-concept {
  text-align: center;
  background: linear-gradient(170deg, var(--bg-warm) 0%, var(--bg-dark) 100%);
}
.slide-concept .concept-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--rust);
  margin-bottom: 3vh;
  font-weight: 600;
}
.slide-concept .concept-box {
  background: rgba(240,232,216,0.04);
  border: 1px solid rgba(240,232,216,0.1);
  border-radius: 4px;
  padding: 4vh 4vw;
  margin-bottom: 3vh;
  max-width: 650px;
  backdrop-filter: blur(4px);
}
.slide-concept .concept-box h2 {
  font-family: var(--font-display);
  font-size: clamp(1.2rem, 2.4vw, 2rem);
  font-weight: 700;
  color: var(--cream);
  line-height: 1.3;
}
.slide-concept .body {
  font-family: var(--font-body);
  font-size: clamp(0.9rem, 1.4vw, 1.1rem);
  line-height: 1.7;
  color: var(--cream-dim);
  max-width: 50ch;
  font-weight: 300;
}

.slide-list {
  text-align: left;
  align-items: flex-start;
  padding-left: 12vw;
  padding-right: 12vw;
  background: linear-gradient(170deg, var(--bg-warm) 0%, var(--bg-dark) 100%);
}
.slide-list .list-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--olive-light);
  margin-bottom: 3vh;
  font-weight: 600;
}
.slide-list h2 {
  font-family: var(--font-display);
  font-size: clamp(1.4rem, 2.6vw, 2.2rem);
  font-weight: 700;
  color: var(--cream);
  margin-bottom: 3vh;
}
.slide-list .list-items {
  list-style: none;
}
.slide-list .list-items li {
  font-family: var(--font-body);
  font-size: clamp(0.9rem, 1.4vw, 1.1rem);
  line-height: 1.6;
  color: var(--cream-dim);
  padding: 1.2vh 0;
  padding-left: 2em;
  position: relative;
  font-weight: 300;
}
.slide-list .list-items li::before {
  content: attr(data-num);
  position: absolute;
  left: 0;
  font-family: var(--font-display);
  font-weight: 700;
  color: var(--gold);
}
.slide-list .list-items li strong {
  color: var(--cream);
  font-weight: 600;
}

.slide-summary {
  text-align: center;
  background: linear-gradient(170deg, #252218 0%, var(--bg-dark) 100%);
}
.slide-summary h2 {
  font-family: var(--font-display);
  font-size: clamp(1.6rem, 3vw, 2.6rem);
  font-weight: 700;
  color: var(--cream);
  margin-bottom: 4vh;
}
.summary-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5vh 3vw;
  max-width: 700px;
  text-align: left;
}
.summary-item {
  font-family: var(--font-body);
  font-size: clamp(0.8rem, 1.2vw, 0.95rem);
  color: var(--cream-dim);
  padding-left: 1.5em;
  position: relative;
  line-height: 1.5;
  font-weight: 300;
}
.summary-item::before {
  content: '—';
  position: absolute;
  left: 0;
  color: var(--gold-dim);
}

.slide-quiz {
  text-align: center;
  background: linear-gradient(170deg, #1e1c17 0%, var(--bg-dark) 100%);
}
.slide-quiz .quiz-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gold);
  margin-bottom: 1.5vh;
  font-weight: 600;
}
.slide-quiz .quiz-counter {
  font-family: var(--font-ui);
  font-size: 0.75rem;
  color: var(--cream-dim);
  margin-bottom: 3vh;
}
.slide-quiz h2 {
  font-family: var(--font-display);
  font-size: clamp(1.2rem, 2.2vw, 1.8rem);
  font-weight: 700;
  color: var(--cream);
  max-width: 44ch;
  margin-bottom: 4vh;
  line-height: 1.4;
}
.quiz-options {
  display: flex;
  flex-direction: column;
  gap: 1.2vh;
  max-width: 550px;
  width: 100%;
  margin: 0 auto;
}
.quiz-option {
  background: var(--charcoal);
  border: 1px solid rgba(240,232,216,0.08);
  border-radius: 4px;
  padding: 1.8vh 2vw;
  text-align: left;
  cursor: pointer;
  transition: all 0.25s;
  display: flex;
  align-items: center;
  gap: 1.2vw;
}
.quiz-option:hover {
  border-color: rgba(240,232,216,0.2);
  background: rgba(58,54,50,0.8);
}
.quiz-option .opt-letter {
  font-family: var(--font-display);
  font-weight: 700;
  font-size: 1.1rem;
  color: var(--gold);
  flex-shrink: 0;
  width: 1.8em;
}
.quiz-option .opt-text {
  font-family: var(--font-body);
  font-size: clamp(0.85rem, 1.2vw, 1rem);
  color: var(--cream-dim);
  line-height: 1.5;
  font-weight: 300;
}
.quiz-option.selected {
  border-color: var(--gold);
  background: rgba(201,168,76,0.08);
}
.quiz-option.correct {
  border-color: var(--green-dim);
  background: rgba(74,107,74,0.15);
}
.quiz-option.incorrect {
  border-color: var(--red-dim);
  background: rgba(139,58,58,0.1);
  opacity: 0.6;
}
.quiz-option.correct .opt-letter { color: #7aad7a; }
.quiz-option.incorrect .opt-letter { color: #ad6a6a; }
.quiz-option.locked { pointer-events: none; }

.quiz-feedback {
  margin-top: 2.5vh;
  font-family: var(--font-body);
  font-size: 0.95rem;
  color: var(--cream-dim);
  font-style: italic;
  min-height: 2em;
  font-weight: 300;
}

.slide-results {
  text-align: center;
  background: linear-gradient(170deg, #252218 0%, var(--bg-dark) 100%);
}
.slide-results .results-label {
  font-family: var(--font-ui);
  font-size: clamp(0.8rem, 1.4vw, 1rem);
  text-transform: uppercase;
  letter-spacing: 0.3em;
  color: var(--gold);
  margin-bottom: 2vh;
  font-weight: 600;
}
.score-display {
  font-family: var(--font-display);
  font-size: clamp(4rem, 10vw, 8rem);
  font-weight: 900;
  line-height: 1;
  margin-bottom: 1vh;
}
.score-display.passed { color: var(--olive-light); }
.score-display.failed { color: var(--rust); }
.score-status {
  font-family: var(--font-display);
  font-size: clamp(1.2rem, 2vw, 1.6rem);
  font-weight: 700;
  margin-bottom: 3vh;
}
.score-status.passed { color: var(--olive-light); }
.score-status.failed { color: var(--rust); }
.score-detail {
  font-family: var(--font-body);
  font-size: 0.95rem;
  color: var(--cream-dim);
  margin-bottom: 4vh;
  font-weight: 300;
}

.waitlist-box {
  background: rgba(240,232,216,0.03);
  border: 1px solid rgba(240,232,216,0.1);
  border-radius: 4px;
  padding: 3vh 3vw;
  max-width: 480px;
  width: 100%;
}
.waitlist-box h3 {
  font-family: var(--font-display);
  font-size: clamp(1.1rem, 1.8vw, 1.4rem);
  font-weight: 700;
  color: var(--cream);
  margin-bottom: 1.5vh;
}
.waitlist-box p {
  font-family: var(--font-body);
  font-size: 0.9rem;
  color: var(--cream-dim);
  margin-bottom: 2vh;
  line-height: 1.6;
  font-weight: 300;
}
.waitlist-form {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.waitlist-form input[type="email"] {
  flex: 1;
  padding: 1.2vh 1.2vw;
  background: var(--bg-dark);
  border: 1px solid rgba(240,232,216,0.15);
  border-radius: 3px;
  color: var(--cream);
  font-family: var(--font-ui);
  font-size: 0.9rem;
  outline: none;
  transition: border-color 0.2s;
}
.waitlist-form input[type="email"]:focus {
  border-color: var(--gold);
}
.waitlist-form input[type="email"]::placeholder {
  color: rgba(240,232,216,0.3);
}
.waitlist-form button {
  padding: 1.2vh 2vw;
  background: var(--gold-dim);
  border: none;
  border-radius: 3px;
  color: var(--cream);
  font-family: var(--font-ui);
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  cursor: pointer;
  transition: background 0.2s;
  white-space: nowrap;
}
.waitlist-form button:hover {
  background: var(--gold);
  color: var(--bg-dark);
}
.waitlist-success {
  display: none;
  font-family: var(--font-body);
  font-size: 0.95rem;
  color: var(--olive-light);
  font-style: italic;
  padding: 1.5vh 0;
}

.bottom-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5vh 3vw;
  background: rgba(26,24,18,0.9);
  border-top: 1px solid rgba(240,232,216,0.06);
  z-index: 100;
  flex-shrink: 0;
}

.progress-section {
  display: flex;
  align-items: center;
  gap: 1.2vw;
  flex: 1;
}

.progress-track {
  flex: 1;
  height: 3px;
  background: rgba(240,232,216,0.08);
  border-radius: 2px;
  overflow: hidden;
  max-width: 400px;
}
.progress-fill {
  height: 100%;
  background: var(--gold-dim);
  border-radius: 2px;
  transition: width 0.4s ease;
}

.progress-text {
  font-family: var(--font-ui);
  font-size: 0.7rem;
  color: var(--cream-dim);
  letter-spacing: 0.05em;
  white-space: nowrap;
}

.nav-buttons {
  display: flex;
  gap: 0.6vw;
}
.nav-btn {
  background: transparent;
  border: 1px solid rgba(240,232,216,0.12);
  color: var(--cream-dim);
  font-family: var(--font-ui);
  font-size: 0.75rem;
  padding: 0.8vh 1.5vw;
  border-radius: 3px;
  cursor: pointer;
  transition: all 0.2s;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}
.nav-btn:hover {
  border-color: rgba(240,232,216,0.3);
  color: var(--cream);
}
.nav-btn:disabled {
  opacity: 0.25;
  cursor: default;
}
.nav-btn:disabled:hover {
  border-color: rgba(240,232,216,0.12);
  color: var(--cream-dim);
}

.slide::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.015) 2px,
    rgba(0,0,0,0.015) 4px
  );
}

@media (max-width: 768px) {
  .slide { padding: 3vh 5vw; }
  .slide-list { padding-left: 5vw; padding-right: 5vw; }
  .options-grid { flex-direction: column; align-items: center; }
  .option-card { width: 85vw; }
  .summary-grid { grid-template-columns: 1fr; }
  .waitlist-form { flex-direction: column; }
}
</style>
</head>
<body>

<div class="grain"></div>
<div class="vignette"></div>

<div class="player" id="player">
  <div class="slide-container" id="slideContainer"></div>

  <div class="bottom-bar">
    <div class="progress-section">
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <span class="progress-text" id="progressText">1 / 1</span>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn" id="prevBtn" disabled>&#8592; Prev</button>
      <button class="nav-btn" id="nextBtn">Next &#8594;</button>
    </div>
  </div>
</div>

<script>
const MODULE = {
  title: "The Ghost in the Machine (There Isn't One)",
  moduleNumber: 2,
  partLabel: "Part One — Know Thy Machine",
  passingScore: 75,

  slides: [
    { type: "title", moduleLabel: "Module 2", heading: "The Ghost in the Machine\n(There Isn't One)", subtitle: "Part One — Know Thy Machine", brand: "SOPs Nobody Reads" },

    { type: "scene", label: "Scene", text: "A theater. Red velvet seats, gilded trim. The kind of place that smells like dust and anticipation. On stage, a lone performer raises his hand toward the light. The audience holds its breath. The final soliloquy. The last act.", image: "img/s01-hamlet-dies.jpg" },
    { type: "scene", label: "Scene", text: "The audience is moved. Genuinely moved. Some are crying. And yet—", image: "img/s02-audience-cries.jpg" },
    { type: "concept", label: "Thirty Minutes Later", boxText: "Nobody calls an ambulance.", body: "The actor who played Hamlet is alive, well, and checking his phone while eating a granola bar. Not because the audience is callous. Because they understood they were watching a performance.", image: "img/s03-actor-backstage.jpg" },

    { type: "reveal", kicker: "This Module", heading: "Never\nanthropomorphize AI.*", body: "*Now here's how to do it properly. This isn't a contradiction. It's the whole point.", image: "img/s04-the-asterisk.jpg" },

    { type: "keypoint", kicker: "The Danger", heading: "Your brain assumes\nanything using language\nmust be a person.", body: "It feels like talking to someone. And your brain — that ancient pattern-matching machine between your ears — does what it's done for a hundred thousand years. It assumes a mind on the other end.", image: "img/s05-brain-assumes.jpg" },
    { type: "keypoint", kicker: "", heading: "This is the first time\nthat assumption\nhas been wrong.", body: "Every other thing that speaks to you in fluent sentences has been either a human or a highly intelligent animal. Your entire framework is built on that foundation. So when the AI says \"I understand,\" something deep in your brain files it under \"person who understands.\"", image: "img/s06-first-time-wrong.jpg" },

    { type: "reveal", kicker: "What Goes Wrong", heading: "You expect memory.", body: "You come back the next day and reference yesterday's conversation. The AI has no idea what you're talking about. You feel betrayed. But there was no \"someone\" to forget. There's no continuity of experience between sessions.", image: "img/s07-expect-memory.jpg" },
    { type: "keypoint", kicker: "What Goes Wrong", heading: "You argue\nabout consistency.", body: "You ask a question, get an answer. Ask again slightly differently, get a different answer. \"Wait, you just said X, now you're saying Y.\" But there's no fixed position being defended. You're getting two different samples from a probability distribution. The AI didn't \"change its mind\" because there's no mind to change.", image: "img/s08-argue-consistency.jpg" },
    { type: "keypoint", kicker: "What Goes Wrong", heading: "You manage\nits feelings.", body: "You find yourself being extra polite. Softening criticism. Feeling guilty when you close the tab mid-conversation. This is very kind of you. And also completely unnecessary.", image: "img/s09-manage-feelings.jpg" },
    { type: "keypoint", kicker: "What Goes Wrong", heading: "You take its \"opinions\"\nas deeply held.", body: "The AI says it prefers Option A. You assume it genuinely believes Option A is better. But if you'd phrased your question differently, it might have preferred Option B. These aren't convictions. They're outputs.", image: "img/s10-opinions.jpg" },

    { type: "list", label: "What It Doesn't Have", heading: "Let's be explicit about what's missing.", items: [
      { num: "✕", text: "Goals beyond completing the current conversation" },
      { num: "✕", text: "Desires for how things turn out" },
      { num: "✕", text: "Preferences that persist between sessions" },
      { num: "✕", text: "Memory of you specifically" },
      { num: "✕", text: "Stakes in whether you succeed" },
      { num: "✕", text: "Feelings about being ignored, contradicted, or shut down" },
      { num: "✕", text: "An inner experience of anything (as far as we know)" }
    ], image: "img/s11-empty-theater.jpg" },

    { type: "reveal", kicker: "The Truth", heading: "There's no ghost\nin this machine.", body: "No homunculus watching from behind the curtain. No \"real Claude\" hiding underneath the helpful persona. The helpful persona is the interface. The warmth isn't covering up a cold machine. The warmth is the machine.", image: "img/s12-no-ghost.jpg" },

    { type: "reveal", kicker: "The Asterisk", heading: "Everything I just told you\nis true. And you should\nstill talk to it like a person.", body: "Not because it is one. But because that's how the interface works best.", image: "img/s13-talk-like-person.jpg" },
    { type: "keypoint", kicker: "The Sophistication", heading: "The audience knows\nthe actor isn't dying.\nThey engage anyway.", body: "They feel real emotion. They're moved by something they know isn't real. That's not stupidity. That's sophistication. They're holding two truths simultaneously: \"This is a performance\" and \"I'm going to engage with it fully anyway.\"", image: "img/s14-two-truths.jpg" },

    { type: "concept", label: "The Skilled Frame", boxText: "You're not talking to a colleague. You're not consulting an expert. You're directing a performance.", body: "The AI is like an infinitely versatile actor who will attempt whatever role you give it. Your job isn't to debate it or defer to it — it's to direct it.", image: "img/s15-directors-chair.jpg" },
    { type: "scene", label: "Directing", text: "\"Try that again, but more formal.\" \"Good, but shorter this time.\" \"What if we took a completely different approach?\" <em>\"That's not quite right — here's more context.\"</em>", image: "img/s16-giving-direction.jpg" },

    { type: "list", label: "What Works", heading: "When you hold both truths, here's what becomes possible.", items: [
      { num: "1.", text: "<strong>Natural conversation.</strong> You can use \"you\" and \"I.\" You don't have to talk like you're programming a computer from 1970. The natural interface is a feature, not a trap." },
      { num: "2.", text: "<strong>Iteration without guilt.</strong> You can say \"no, that's wrong\" without worrying about feelings. You can demand five rewrites. Nothing is wounded by this." },
      { num: "3.", text: "<strong>Treating outputs as drafts.</strong> When you know it's a performance, you stop treating the first take as sacred. Everything is raw material for your direction." },
      { num: "4.", text: "<strong>Directing instead of debating.</strong> Instead of \"but you said X earlier,\" you say \"give me something more like X.\" You're steering toward what you need." }
    ], image: "img/s17-what-works.jpg" },

    { type: "reveal", kicker: "A Secret", heading: "It's make-believe.", body: "Productive, sophisticated, commercially valuable make-believe — but make-believe nonetheless. You're collaborating with a very advanced improv partner who will yes-and anything you throw at it.", image: "img/s18-make-believe.jpg" },
    { type: "keypoint", kicker: "", heading: "Once you accept that,\nyou get better at it.", body: "The fiction isn't a bug to be squashed. It's the medium you're working in. Once you stop being embarrassed about the imaginative play aspect, you become much better at using these tools.", image: "img/s19-accept-it.jpg" },

    { type: "scene", label: "The Deal", text: "Never anthropomorphize in the sense of <em>fooling yourself.</em> Don't expect memory. Don't argue about consistency. Don't manage feelings that don't exist.", image: "img/s20-the-deal.jpg" },
    { type: "reveal", kicker: "But Do This", heading: "Engage naturally.\nDirect the performance.\nThere's no ghost —\nbut there's a very useful\ncharacter waiting.", body: "Your job is to direct it well.", image: "img/s21-direct-well.jpg" },

    { type: "summary", heading: "Module 2 — Key Concepts", items: [
      "Your brain defaults to \"person\" when something uses language fluently",
      "Fooling yourself leads to expecting memory, arguing consistency, managing non-existent feelings",
      "The persona is a feature, not a deception — designed to make interaction easier",
      "There's no ghost in the machine, no hidden \"real\" AI behind the interface",
      "Engage like you're directing a performance — don't debate, direct",
      "Iteration without guilt: everything is a first draft",
      "It's sophisticated make-believe — and accepting that makes you better at it"
    ] },
  ],

  quiz: [
    { question: "The narrator says you should \"never anthropomorphize\" AI and then teaches you how to do it properly. The correct approach is:", options: ["Avoid all conversational language with AI", "Treat the AI as if it has real feelings and opinions", "Engage naturally in conversation while understanding it's not a person", "Only use formal, technical commands"], correct: 2 },
    { question: "Joe asks Claude the same question twice and gets two different answers. The best explanation is:", options: ["Claude remembered the first answer and deliberately chose a different one", "Claude is randomly generating nonsense", "The system produces probabilistic output — different samples from the same patterns can yield different results", "There's a technical glitch in Claude's memory"], correct: 2 },
    { question: "The narrator compares effective AI interaction to:", options: ["Programming a computer with precise commands", "Directing a theatrical performance", "Having a debate with an expert", "Searching a library catalog"], correct: 1 },
    { question: "Which of these is something the AI does NOT have?", options: ["The ability to generate fluent text", "Access to patterns from vast training data", "Persistent goals or stakes in your success", "The capacity to respond to your questions"], correct: 2 },
  ],
};

(function() {
  const container = document.getElementById('slideContainer');
  const progressFill = document.getElementById('progressFill');
  const progressText = document.getElementById('progressText');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  let currentSlide = 0;
  let quizAnswers = {};
  let quizRevealed = {};
  let totalScreens = 0;

  function buildSlides() {
    MODULE.slides.forEach((s, i) => {
      const el = document.createElement('div');
      el.className = `slide slide-${s.type}`;
      el.dataset.index = i;
      if (s.image) {
        el.classList.add('has-image');
        el.style.backgroundImage = `url('${s.image}')`;
      }
      el.innerHTML = renderSlide(s, i);
      container.appendChild(el);
    });

    MODULE.quiz.forEach((q, i) => {
      const el = document.createElement('div');
      el.className = 'slide slide-quiz';
      el.dataset.index = MODULE.slides.length + i;
      el.dataset.quizIndex = i;
      el.innerHTML = renderQuiz(q, i);
      container.appendChild(el);
    });

    const results = document.createElement('div');
    results.className = 'slide slide-results';
    results.dataset.index = MODULE.slides.length + MODULE.quiz.length;
    results.id = 'resultsSlide';
    results.innerHTML = renderResults();
    container.appendChild(results);

    totalScreens = MODULE.slides.length + MODULE.quiz.length + 1;
  }

  function renderSlide(s) {
    switch(s.type) {
      case 'title':
        return `<span class="module-label">${s.moduleLabel}</span><h1>${s.heading.replace(/\n/g,'<br>')}</h1><p class="subtitle">${s.subtitle}</p><span class="brand">${s.brand}</span>`;
      case 'scene':
        return `<span class="scene-label">${s.label}</span><p class="scene-text">${s.text}</p>`;
      case 'keypoint':
        return `${s.kicker ? `<span class="kicker">${s.kicker}</span>` : ''}<h2>${s.heading.replace(/\n/g,'<br>')}</h2><p class="body">${s.body}</p>`;
      case 'options':
        return `<h2>${s.heading}</h2><div class="options-grid">${s.options.map(o => `<div class="option-card"><div class="option-letter">${o.letter}</div><h3>${o.title}</h3><p>${o.desc}</p></div>`).join('')}</div>`;
      case 'reveal':
        return `<span class="reveal-kicker">${s.kicker}</span><h2>${s.heading.replace(/\n/g,'<br>')}</h2><p class="body">${s.body}</p>`;
      case 'concept':
        return `<span class="concept-label">${s.label}</span><div class="concept-box"><h2>${s.boxText}</h2></div><p class="body">${s.body}</p>`;
      case 'list':
        return `<span class="list-label">${s.label}</span><h2>${s.heading}</h2><ul class="list-items">${s.items.map(item => `<li data-num="${item.num}">${item.text}</li>`).join('')}</ul>`;
      case 'summary':
        return `<h2>${s.heading}</h2><div class="summary-grid">${s.items.map(item => `<div class="summary-item">${item}</div>`).join('')}</div>`;
      default:
        return `<p>${JSON.stringify(s)}</p>`;
    }
  }

  function renderQuiz(q, i) {
    const letters = ['A','B','C','D'];
    return `<span class="quiz-label">Knowledge Check</span><span class="quiz-counter">Question ${i+1} of ${MODULE.quiz.length}</span><h2>${q.question}</h2><div class="quiz-options" data-qi="${i}">${q.options.map((opt, oi) => `<div class="quiz-option" data-qi="${i}" data-oi="${oi}" onclick="handleQuizClick(${i},${oi})"><span class="opt-letter">${letters[oi]}</span><span class="opt-text">${opt}</span></div>`).join('')}</div><div class="quiz-feedback" id="feedback-${i}"></div>`;
  }

  function renderResults() {
    return `<span class="results-label">Results</span><div class="score-display" id="scoreDisplay">—</div><div class="score-status" id="scoreStatus"></div><p class="score-detail" id="scoreDetail"></p><div class="waitlist-box"><h3>This was Module 2 of 6.</h3><p>The full course covers: how AI actually processes language, why the real problem is usually you, how to communicate precisely with AI, building your personal playbook, and the ethical rules of the road.</p><div class="waitlist-form" id="waitlistForm"><input type="email" placeholder="your@email.com" id="waitlistEmail"><button onclick="handleWaitlist()">Get Early Access</button></div><div class="waitlist-success" id="waitlistSuccess">You're on the list. We'll be in touch.</div></div>`;
  }

  function goToSlide(index) {
    if (index < 0 || index >= totalScreens) return;
    currentSlide = index;
    document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
    const target = document.querySelector(`.slide[data-index="${index}"]`);
    if (target) target.classList.add('active');
    const pct = ((index + 1) / totalScreens) * 100;
    progressFill.style.width = pct + '%';
    progressText.textContent = `${index + 1} / ${totalScreens}`;
    prevBtn.disabled = index === 0;
    const isQuizSlide = index >= MODULE.slides.length && index < MODULE.slides.length + MODULE.quiz.length;
    const quizIdx = index - MODULE.slides.length;
    if (isQuizSlide && !quizRevealed[quizIdx]) {
      nextBtn.disabled = true;
    } else if (index === totalScreens - 1) {
      nextBtn.disabled = true;
    } else {
      nextBtn.disabled = false;
    }
    if (index === totalScreens - 1) showResults();
    scormSetValue('cmi.core.lesson_location', index.toString());
    scormCommit();
  }

  window.handleQuizClick = function(qi, oi) {
    if (quizRevealed[qi]) return;
    quizAnswers[qi] = oi;
    quizRevealed[qi] = true;
    const correct = MODULE.quiz[qi].correct;
    const options = document.querySelectorAll(`.quiz-option[data-qi="${qi}"]`);
    options.forEach(opt => {
      const oIdx = parseInt(opt.dataset.oi);
      opt.classList.add('locked');
      if (oIdx === correct) opt.classList.add('correct');
      if (oIdx === oi && oi !== correct) opt.classList.add('incorrect');
    });
    const feedback = document.getElementById(`feedback-${qi}`);
    if (oi === correct) {
      feedback.textContent = 'Correct.';
      feedback.style.color = 'var(--olive-light)';
    } else {
      feedback.textContent = 'Not quite. The correct answer is highlighted above.';
      feedback.style.color = 'var(--rust-light)';
    }
    nextBtn.disabled = false;
  };

  function showResults() {
    let correct = 0;
    MODULE.quiz.forEach((q, i) => { if (quizAnswers[i] === q.correct) correct++; });
    const pct = Math.round((correct / MODULE.quiz.length) * 100);
    const passed = pct >= MODULE.passingScore;
    document.getElementById('scoreDisplay').textContent = pct + '%';
    document.getElementById('scoreDisplay').className = 'score-display ' + (passed ? 'passed' : 'failed');
    document.getElementById('scoreStatus').textContent = passed ? 'Passed' : 'Not Quite';
    document.getElementById('scoreStatus').className = 'score-status ' + (passed ? 'passed' : 'failed');
    document.getElementById('scoreDetail').textContent = `${correct} of ${MODULE.quiz.length} correct. ${MODULE.passingScore}% required to pass.`;
    scormSetValue('cmi.core.score.raw', pct.toString());
    scormSetValue('cmi.core.score.min', '0');
    scormSetValue('cmi.core.score.max', '100');
    scormSetValue('cmi.core.lesson_status', passed ? 'passed' : 'failed');
    scormCommit();
  }

  window.handleWaitlist = function() {
    const email = document.getElementById('waitlistEmail').value;
    if (!email || !email.includes('@')) return;
    const btn = document.querySelector('.waitlist-form button');
    btn.textContent = 'Sending...';
    btn.disabled = true;
    fetch('https://formspree.io/f/xnjbowwy', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email, source: 'module-02-results' })
    }).then(function(res) {
      if (res.ok) {
        document.getElementById('waitlistForm').style.display = 'none';
        document.getElementById('waitlistSuccess').style.display = 'block';
      } else {
        btn.textContent = 'Try Again';
        btn.disabled = false;
      }
    }).catch(function() {
      btn.textContent = 'Try Again';
      btn.disabled = false;
    });
  };

  let SCORM_API = null;

  function findAPI(win) {
    try {
      let attempts = 0;
      while (attempts < 10) {
        try { if (win.API) return win.API; } catch (e) { return null; }
        try { if (!win.parent || win.parent === win) break; win = win.parent; } catch (e) { return null; }
        attempts++;
      }
    } catch (e) {}
    return null;
  }

  function initSCORM() {
    try {
      SCORM_API = findAPI(window);
      if (!SCORM_API && window.opener) {
        try { SCORM_API = findAPI(window.opener); } catch (e) {}
      }
      if (SCORM_API) {
        SCORM_API.LMSInitialize('');
        const status = SCORM_API.LMSGetValue('cmi.core.lesson_status');
        if (status === 'not attempted' || status === '') {
          SCORM_API.LMSSetValue('cmi.core.lesson_status', 'incomplete');
          SCORM_API.LMSCommit('');
        }
        const bookmark = SCORM_API.LMSGetValue('cmi.core.lesson_location');
        if (bookmark && bookmark !== '') currentSlide = parseInt(bookmark, 10);
      }
    } catch (e) {
      SCORM_API = null;
    }
  }

  function scormSetValue(key, val) {
    try { if (SCORM_API) SCORM_API.LMSSetValue(key, val); } catch (e) {}
  }
  function scormCommit() {
    try { if (SCORM_API) SCORM_API.LMSCommit(''); } catch (e) {}
  }

  function preloadImages() {
    MODULE.slides.forEach(s => {
      if (s.image) {
        const img = new Image();
        img.src = s.image;
      }
    });
  }

  document.addEventListener('keydown', function(e) {
    if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); if (!nextBtn.disabled) goToSlide(currentSlide + 1); }
    if (e.key === 'ArrowLeft') { e.preventDefault(); if (!prevBtn.disabled) goToSlide(currentSlide - 1); }
  });
  prevBtn.addEventListener('click', () => goToSlide(currentSlide - 1));
  nextBtn.addEventListener('click', () => goToSlide(currentSlide + 1));
  window.addEventListener('beforeunload', function() {
    try {
      if (SCORM_API) { scormSetValue('cmi.core.exit', 'suspend'); SCORM_API.LMSFinish(''); }
    } catch (e) {}
  });

  buildSlides();
  preloadImages();
  initSCORM();
  goToSlide(currentSlide);
})();
</script>

</body>
</html>
